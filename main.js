(()=>{"use strict";const e=()=>{const e=document.getElementById("content"),t=document.createElement("div");t.classList.add("page-content");const n=document.createElement("div");n.classList.add("two-side");const a=document.createElement("div");a.classList.add("background-image");const c=document.createElement("h1");c.classList.add("text"),c.textContent="the real taste of naples",n.appendChild(c),n.appendChild(a),t.appendChild(n),a.style.backgroundImage='url("images/1.jpg")';const i=document.createElement("h1");i.textContent="Welcome to our restaurant",t.appendChild(i);const s=document.createElement("p");s.textContent="We serve the best food in town. Come and taste.",t.appendChild(s),e.appendChild(t);let l,d=["images/1.jpg","images/2.jpg","images/3.jpg"],o=["the real taste of naples","the true italian test","authustic tuscany flafor"];l=setInterval((function(){let e=Math.floor(Math.random()*d.length);a.style.backgroundImage=`url("${d[e]}")`,c.textContent=`${o[e]}`}),3e3)};function t(){document.querySelector(".page-content").classList.remove("with-after")}function n(){const e=document.querySelector("#content"),t=document.querySelector(".page-content");t&&e.removeChild(t)}(()=>{const a=document.getElementById("content"),c=document.createElement("nav"),i=document.createElement("div"),s=document.createElement("div"),l=document.createElement("div"),d=document.createElement("div"),o=document.createElement("div");let r=document.createElement("span");const m=document.createElement("list"),p=document.createElement("div"),u=document.createElement("div");s.setAttribute("id","home-btn"),l.setAttribute("id","menu-btn"),d.setAttribute("id","contact-btn"),c.classList.add("navbar"),i.classList.add("Links"),s.classList.add("tab"),l.classList.add("tab"),d.classList.add("tab"),o.classList.add("cart"),r.classList.add("quantity"),m.classList.add("list"),p.classList.add("burger"),u.classList.add("logo"),s.textContent="Home",l.textContent="Menu",d.textContent="Contact",r.textContent="0",o.innerHTML='<i class="fa-light fa-bag-shopping fa-2x"></i>',o.appendChild(r),p.innerHTML='<i class="fa-solid fa-burger fa-2x" ></i>',u.innerHTML='<img src="images/pizza-box.png">';const f=document.createElement("div");f.classList.add("card");const h=document.createElement("h1");h.textContent="My order",f.appendChild(h);const g=document.createElement("ul");g.classList.add("listCard"),f.appendChild(g);const L=document.createElement("div");L.classList.add("checkout");const v=document.createElement("div");v.classList.add("totale"),v.textContent="0";const y=document.createElement("div");function E(){a.classList.remove("lightseagreen-bg")}y.classList.add("closeShopping"),y.textContent="close",L.appendChild(v),L.appendChild(y),f.appendChild(L),a.appendChild(f),i.appendChild(s),i.appendChild(l),i.appendChild(d),c.appendChild(i),c.appendChild(o),c.appendChild(p),c.prepend(u),c.appendChild(m),a.appendChild(c);const C={home:s,menu:l,contact:d};let x=null;function b(e){s.style.backgroundColor="",l.style.backgroundColor="",d.style.backgroundColor="";const t=C[e];t.style.background="#FFA36C",x=t}function S(){i.classList.remove("active")}s.addEventListener("click",(()=>{n(),e(),b("home"),E(),t()})),l.addEventListener("click",(()=>{n(),(()=>{let e,t,n=[{id:1,name:"Margherita Pizza ",image:"pizza-01.png",price:35},{id:2,name:"Beef Pizza ",image:"pizza-02.png",price:30},{id:3,name:"Cheeseburger ",image:"pizza-03.png",price:25},{id:4,name:"Marinara Pizza ",image:"pizza-04.png",price:40},{id:5,name:"French Frise ",image:"pizza-05.png",price:15},{id:6,name:"Neapolitan Pizaa ",image:"pizza-06.png",price:22},{id:7,name:"chawarma ",image:"pizza-07.png",price:35},{id:8,name:" Sicilian Pizza",image:"pizza-08.png",price:9}];t=null!=localStorage.favorite?JSON.parse(localStorage.favorite):[],e=null!=localStorage.shopping?JSON.parse(localStorage.shopping):[];const a=document.querySelector("#content"),c=document.createElement("div");c.classList.add("page-content");const i=document.createElement("div");i.classList.add("container"),document.createElement("div").classList.add("menu");const s=document.createElement("div");s.classList.add("left");const l=document.createElement("div");l.classList.add("text");const d=document.createElement("div");d.classList.add("buttons");const o=document.createElement("button");o.classList.add("button");const r=document.createElement("button");r.classList.add("button"),o.innerHTML="view Menu",r.innerHTML="Book a Table",d.appendChild(o),d.appendChild(r);const m=document.createElement("div");m.textContent="Favorite ("+t.length+")",m.classList.add("favorite-btn");const p=document.createElement("div");p.classList.add("collection");const u=document.createElement("h2");u.innerText="Now Taking Online Orders";const f=document.createElement("h1");f.textContent="Varety Of Pizza ",l.appendChild(u),l.appendChild(f),s.appendChild(l);const h=document.createElement("div");h.classList.add("big-image");let g=document.createElement("img");g.src="images/pizza-03.png",h.appendChild(g);let L,v=null;n.forEach(((t,a)=>{n.addedToCart=!1;const c=document.createElement("div");c.classList.add("coll"),c.dataset.index=t.id;let i=document.createElement("div");i.classList.add("favorite"),i.textContent="favorits",i.innerHTML='<i class="fa-light fa-heart fa-2x" style="color: #ff0000;"></i>';let s=document.createElement("div");s.classList.add("specs");let l=document.createElement("h3");l.innerHTML=`${t.name}`;let d=document.createElement("div");d.classList.add("stars");for(let e=0;e<4;e++){let e=document.createElement("i");e.classList.add("fa-solid","fa-star","fa-2x"),e.style.color="#cad709",d.appendChild(e)}let o=document.createElement("i");o.classList.add("fa-regular","fa-star","fa-2x"),o.style.color="#cad709",d.appendChild(o);let r=document.createElement("span");r.classList.add("price"),r.innerHTML="$"+t.price;const m=document.createElement("div");m.classList.add("to-cart"),e.some((e=>e.id===t.id))?(m.innerHTML='<i class="fa-solid fa-cart-shopping fa-2xl" style="color: #ffffff;"></i>',L=!0):(m.innerHTML='<i class="fa-regular fa-cart-shopping fa-2xl" style="color: #ffffff;"></i>',L=!1),m.addEventListener("click",(()=>{L?(m.innerHTML='<i class="fa-regular fa-cart-shopping fa-2xl" style="color: #ffffff;"></i>',L=!1,H(a)):(m.innerHTML='<i class="fa-solid fa-cart-shopping fa-2xl" style="color: #ffffff;"></i>',L=!0,k(a))}));let u=document.createElement("img"),f=`images/pizza-0${t.id}.png`;u.src=f,s.appendChild(l),s.appendChild(d),s.appendChild(r),s.appendChild(m),s.appendChild(i),c.appendChild(s),c.appendChild(u),p.appendChild(c),c.addEventListener("click",(e=>{if(v!==c&&(!M||b)){const e=document.querySelector(".big-image img");e.style.transform="translate(0, -200%)",setTimeout((()=>{e.src=`images/pizza-0${t.id}.png`,e.style.transform="translate(0, 0)"}),1e3)}v=c}))})),s.appendChild(h);const y=window.matchMedia("(max-width: 770px)");let E;function C(){const e=document.querySelector(".collection"),a=document.querySelectorAll(".coll"),c=document.querySelectorAll(".specs"),i=document.querySelectorAll(".to-cart"),s=document.querySelectorAll(".favorite");e.classList.add("collection-small"),e.classList.remove("collection"),i.forEach((e=>{e.classList.add("to-cart-small"),e.classList.remove("to-cart")})),a.forEach(((e,t)=>{e.classList.add("coll-small"),e.classList.remove("coll");const n=document.createElement("button");n.classList.add("cart-btn"),n.textContent="add to cart",n.addEventListener("click",(()=>{L?(L=!1,H(t)):(L=!0,k(t),console.log(t))})),e.prepend(n)})),c.forEach((e=>{e.classList.add("specs-small"),e.classList.remove("specs")})),document.querySelectorAll(".price").forEach((e=>{e.classList.add("price-small"),e.classList.remove("price")})),s.forEach(((e,a)=>{const c=n[a].id,i=t.includes(c);e.innerHTML=i?'<i class="fa-solid fa-heart fa-2x" style="color: #ff0000;"></i>':'<i class="fa-light fa-heart fa-2x" style="color: #ff0000;"></i>',e.addEventListener("click",(()=>{t.includes(c)?(E=!1,e.innerHTML='<i class="fa-light fa-heart fa-2x" style="color: #ff0000;"></i>',function(e){const a=n[e].id,c=t.indexOf(a);-1!==c&&(t.splice(c,1),localStorage.setItem("favorite",JSON.stringify(t)),x(),T(),S.innerHTML="",q())}(a)):(e.innerHTML='<i class="fa-solid fa-heart fa-2x" style="color: #ff0000;"></i>',E=!0,function(e){const a=n[e].id;t.includes(a)||(t.push(a),localStorage.setItem("favorite",JSON.stringify(t)),x(),T(),S.innerHTML="",q())}(a))}))}))}function x(){document.querySelectorAll(".favorite").forEach(((e,a)=>{const c=n[a].id,i=t.includes(c);e.innerHTML=i?'<i class="fa-solid fa-heart fa-2x" style="color: #ff0000;"></i>':'<i class="fa-light fa-heart fa-2x" style="color: #ff0000;"></i>'}))}let b=!1;const S=document.createElement("div");function q(){S.style.display="none",t.forEach((e=>{const t=n.find((t=>t.id===e)),a=document.createElement("div");a.classList.add("coll-fav"),a.dataset.index=t.id;const i=document.createElement("button");i.classList.add("cart-btn"),i.textContent="add to cart",i.addEventListener("click",(()=>{L?(L=!1,H(e)):(L=!0,k(e))})),a.prepend(i);const s=document.createElement("div");s.classList.add("specs-fav");const l=document.createElement("h3");l.innerHTML=t.name;const d=document.createElement("div");d.classList.add("stars");for(let e=0;e<4;e++){const e=document.createElement("i");e.classList.add("fa-solid","fa-star","fa-2x"),e.style.color="#cad709",d.appendChild(e)}const o=document.createElement("i");o.classList.add("fa-regular","fa-star","fa-2x"),o.style.color="#cad709",d.appendChild(o);const r=document.createElement("span");r.classList.add("price"),r.innerHTML=`$${t.price}`;const m=document.createElement("img");m.src=`./images/${t.image}`,s.appendChild(l),s.appendChild(d),s.appendChild(r),s.appendChild(i),a.appendChild(i),a.appendChild(s),a.appendChild(m),S.appendChild(a),c.appendChild(S)}))}function T(){document.querySelector(".favorite-btn").textContent="Favorite ("+t.length+")"}function z(){const e=document.querySelector(".collection-small");e.classList.remove("collection-small"),e.classList.add("collection");const t=document.querySelectorAll(".coll-small"),n=document.querySelectorAll(".specs-small");document.querySelectorAll(".to-cart-small").forEach((e=>{e.classList.add("to-cart"),e.classList.remove("to-cart-small"),e.innerHTML='\'<i class="fa-regular fa-cart-shopping fa-2xl" style="color: #ffffff;"></i>\''})),t.forEach((e=>{e.classList.remove("coll-small"),e.classList.add("coll"),e.querySelector(".cart-btn").remove()})),n.forEach((e=>{e.classList.remove("specs-small"),e.classList.add("specs")})),document.querySelectorAll(".price-small").forEach((e=>{e.classList.remove("price-small"),e.classList.add("price")}))}let M;function k(t){console.log("you have added plate n°"+t);const a=n[t];if(!a.addedToCart){a.addedToCart=!0;const t=e.find((e=>e.id===a.id));t?t.quantity++:e.push({...a,quantity:1}),localStorage.setItem("shopping",JSON.stringify(e)),$()}}function H(t){console.log("you have removed plate n°"+t);const a=n[t];if(a.addedToCart){a.addedToCart=!1;const t=e.find((e=>e.id===a.id));if(t){if(t.quantity>1)t.quantity--;else{const n=e.indexOf(t);e.splice(n,1)}localStorage.setItem("shopping",JSON.stringify(e)),$()}}}function $(){const t=document.querySelector(".listCard"),n=document.querySelector(".totale"),a=document.querySelector(".navbar .cart .quantity");t.innerHTML="";let c=0,i=0;e.forEach(((n,a)=>{const s=document.createElement("li");s.classList.add("cart-item"),s.innerHTML=`\n                <div><img src="images/pizza-0${n.id}.png" alt="${n.name}"></div>\n                <div> ${n.name}</div>\n                <div>${n.quantity}</div>\n                <div>$${(n.price*n.quantity).toFixed(2)}</div>\n                <div>\n                    <button class="remove-button btn-cmp" data-index="${a}">-</button>\n                    <div class="count">${n.quantity}</div>\n                    <button class="add-button btn-cmp" data-index="${a}">+</button>\n                    </div>\n                </div>\n            `,t.appendChild(s),c+=n.price*n.quantity,i+=n.quantity;const l=s.querySelector(".add-button"),d=s.querySelector(".remove-button"),o=s.querySelector(".count");l.addEventListener("click",(()=>{e[a].quantity++,localStorage.setItem("shopping",JSON.stringify(e)),$()})),d.addEventListener("click",(()=>{e[a].quantity--,e[a].quantity<=0&&e.splice(a,1),localStorage.setItem("shopping",JSON.stringify(e)),$()})),o.textContent=n.quantity})),n.textContent=`Total Price: $${c.toFixed(2)}`,a.textContent=i}S.setAttribute("class","collection-fav"),q(),m.addEventListener("click",(()=>{console.log("clicked"),b?(setTimeout((()=>{S.innerHTML="",S.style.display="none",S.style.opacity="0",setTimeout((()=>{i.style.display="flex",p.style.display="flex"}),300)}),500),b=!1):(i.style.display="none",p.style.display="none",b=!0,setTimeout((()=>{S.style.opacity="1",S.style.display="flex"}),300))})),y.addEventListener("change",(e=>{e.matches?(C(),M=!0):(z(),M=!1)})),o.addEventListener("click",(()=>{console.log("clicked");const e=document.querySelector(".collection"),t=document.querySelector(".collection-small");M?setTimeout((()=>{z(),M=!1,t.style.display="flex"}),300):(e.style.transition="opacity 0.3s ease-in-out",e.style.opacity="1",setTimeout((()=>{C(),M=!0}),300))}));const A=localStorage.getItem("shopping");A&&(e=JSON.parse(A)),$(),i.appendChild(d),i.appendChild(s),c.appendChild(i),c.appendChild(p),c.appendChild(m),a.appendChild(c)})(),b("menu"),document.querySelector(".page-content").classList.add("with-after")})),d.addEventListener("click",(()=>{n(),(()=>{const e=document.getElementById("content"),t=document.createElement("div");t.classList.add("page-content");const n=document.createElement("form");n.classList.add("contact-form");const a=document.createElement("input");a.type="text",a.placeholder="Enter Heading",n.appendChild(a);const c=document.createElement("input");c.type="text",c.placeholder="Enter Address",n.appendChild(c);const i=document.createElement("input");i.type="text",i.placeholder="Enter Phone Number",n.appendChild(i);const s=document.createElement("input");s.type="submit",s.valur="submit",n.appendChild(s),t.appendChild(n),e.appendChild(t)})(),b("contact"),E(),t()})),p.addEventListener("click",(()=>{document.querySelector(".link .active"),i.classList.contains("active")?setTimeout((()=>{i.classList.remove("active"),i.style.transition=""}),500):(i.classList.add("active"),setTimeout((()=>{}),500))}));const q=window.matchMedia("(min-width: 480px)");q.addEventListener("change",(e=>{e.matches&&S()})),q.matches&&S(),s.addEventListener("click",E),d.addEventListener("click",E),o.addEventListener("click",(()=>{console.log("clicked"),f.classList.toggle("activate")})),y.addEventListener("click",(()=>{f.classList.remove("activate")}))})(),e()})();